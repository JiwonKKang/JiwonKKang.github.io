<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://jiwonkkang.github.io/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://jiwonkkang.github.io/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://jiwonkkang.github.io/css/github.min.css' />
    <link rel="stylesheet" href='https://jiwonkkang.github.io/css/github-style.css' />
    <link rel="stylesheet" href='https://jiwonkkang.github.io/css/light.css' />
    <link rel="stylesheet" href='https://jiwonkkang.github.io/css/dark.css' />
    <link rel="stylesheet" href='https://jiwonkkang.github.io/css/syntax.css' />
    <title>[Docker] 컨테이너 다루기 - Jiwon&#39;s blog</title>
    
    <link rel="icon" type="image/x-icon" href='https://jiwonkkang.github.io/images/favicon.ico'>
    
    <meta name="theme-color" content="#1e2327">
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RHFSNZ7DGH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RHFSNZ7DGH');
</script>
    
    <meta name="description"
  content="컨테이너를 파헤쳐보자" />
<meta name="keywords"
  content='' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://jiwonkkang.github.io/post/container-tutorial/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="[Docker] 컨테이너 다루기 - Jiwon&#39;s blog" />
<meta name="twitter:description"
  content="컨테이너를 파헤쳐보자" />
<meta name="twitter:site" content="https://jiwonkkang.github.io/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://jiwonkkang.github.io/">


<meta property="og:type" content="article" />
<meta property="og:title" content="[Docker] 컨테이너 다루기 - Jiwon&#39;s blog">
<meta property="og:description"
  content="컨테이너를 파헤쳐보자" />
<meta property="og:url" content="https://jiwonkkang.github.io/post/container-tutorial/" />
<meta property="og:site_name" content="[Docker] 컨테이너 다루기" />
<meta property="og:image"
  content="https://jiwonkkang.github.io/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2023-08-16 20:14:00 &#43;0900 KST" />











</head>

<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://jiwonkkang.github.io/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://jiwonkkang.github.io/">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://jiwonkkang.github.io/">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
  
<div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://jiwonkkang.github.io/">
                  <img class=" avatar-user"
                    src="https://jiwonkkang.github.io/images/avatar.png"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <a href="https://jiwonkkang.github.io/">JiwonKKang</a></span><span
                    class="path-divider">/</span><strong class="css-truncate-target mr-1" style="max-width: 410px"><a
                      href="https://jiwonkkang.github.io/post/container-tutorial/">[Docker] 컨테이너 다루기</a></strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Wed, 16 Aug 2023 20:14:00 &#43;0900"
                    class="no-wrap">
                    Wed, 16 Aug 2023 20:14:00 &#43;0900</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Wed, 16 Aug 2023 20:58:40 &#43;0900"
                    class="no-wrap">
                    Wed, 16 Aug 2023 20:58:40 &#43;0900</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      8545 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/docker">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      docker
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><blockquote>
<h1 id="컨테이너-다루기">컨테이너 다루기</h1>
</blockquote>
<h1 id="컨테이너-생성">컨테이너 생성</h1>
<h2 id="버전확인">버전확인</h2>
<p>Docker를 사용하기에 앞서 Docker version 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker -v
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F68789a98-b03a-4451-979b-24342c0922af%2FUntitled.png?table=block&amp;id=edb63ea9-b22b-4f48-943e-3e95cda7fa99&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=1380&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>현재 docker의 최신 버전은 24.0.5</p>
<p>다양한 기능이 빠르게 업데이트되고 새로운 버전이 배포되므로 설치된 버전 확인 중요</p>
<p>내친김에 containerd도 버전을 확인해봅시다</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo containerd -v
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe408afe5-63c9-4bd1-861f-321f751a75fd%2FUntitled.png?table=block&amp;id=a3c782ef-49c8-4bdf-9409-8e471958b455&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<h2 id="첫번째-컨태이너-생성">첫번째 컨태이너 생성</h2>
<p>docker run 명령어는 컨테이너를 생성하고 실행하는 역할 ubuntu:18.04는 컨테이너를 생성하기 위한 이미지의 이름 -i -t 옵션은 컨테이너와 상호 입출력 가능</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it ubuntu:18.04
</span></span></code></pre></div><p>아래와 같은 내용이 출력됩니다.</p>
<p>ubuntu:18.04 이미지가 로컬 도커 엔진에 존재하지 않으므로 도커 중앙 이미지 레지스트리인 dockerhub에서 자동으로 이미지를 내려받습니다.</p>
<p>네트워크 환경에 따라 시간이 약간 소요될 수 있음</p>
<p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F02992a3e-af14-4adc-ac60-473d9c668418%2FUntitled.png?table=block&amp;id=873871ef-3230-4bea-866c-fee3d9c8917a&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>단 한줄의 명령으로 container 이미지 다운로드, 이미지로부터 컨테이너 생성, 컨테이너 실행, 컨테이너 내부 연결</p>
<p>쉘의 사용자와 호스트이름이 변경된 것이 컨테이너 내부에 들어와있다는 것을 나타냄</p>
<p>해당 컨테이너에서 기본 사용자는 root이고 호스트네임은 무작위 해쉬</p>
<p>무작위의 16진수 해시값은 컨테이너의 고유한 앞 일부분</p>
<p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc0abef6a-d024-4c03-ac54-2509a59e4ea5%2FUntitled.png?table=block&amp;id=e834768c-60f6-4085-af99-fae698679824&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>-i옵션 : 상호입출력</p>
<p>-t옵션 : tty</p>
<p>bash 쉘 사용하도록 컨테이너 설정, 두 옵션 다 사용해야 정상적으로 쉘 사용 가능</p>
<p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb83e9be4-61aa-4ba9-821f-e58d96f5bf7c%2FUntitled.png?table=block&amp;id=8be7acf3-5af7-43fc-a5dc-66079632f053&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>컨테이너와 호스트의 파일 시스템은 서로 독립적이므로 ls 명령어로 파일시스템을 확인해보면 아무ㄷ것도 설치되지 않은 상태임을 확인할 수 있음</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@b99ed1baaccc:/# ls
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F08d17f4c-d55e-4e6b-b362-17d083a81e41%2FUntitled.png?table=block&amp;id=8bf1fe42-0a78-4e24-8d41-6ee48bace13f&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>컨테이너에서 호스트의 docker 환경으로 돌아옵니다.</p>
<p>컨테이너 내부에서 빠져나오는 방법은 두가지</p>
<ol>
<li>
<p>exit 명령 또는 ctrl + D 입력</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@b99ed1baaccc:/# <span class="nb">exit</span>
</span></span></code></pre></div><p>이 경우 빠져나오면서 컨테이너를 정지시킴</p>
<p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9c7d4be1-3922-4a19-aee3-ac6e4d491a3e%2FUntitled.png?table=block&amp;id=ca581d31-fd01-47a2-841a-3814d4044990&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=1020&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker ps
</span></span><span class="line"><span class="cl">sudo docker ps -a
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1bafd73a-3763-4d8c-9121-c060b3a099c7%2FUntitled.png?table=block&amp;id=7c120c5a-343a-4027-9e2d-47f99926ca15&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
</li>
<li>
<p>ctrl + P, Q 입력</p>
<p>컨테이너를 정지하지 않고 빠져나옴</p>
<p>컨테이너가 정지하지 않고 단순히 쉘에서만 빠져나오기 때문에 컨테이너 애플리케이션 개발 목적으로 주로 사용</p>
<p>centOS7 이미지를 사용하는 컨테이너 예시</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker pull centos:7
</span></span></code></pre></div><p>이미지가 정상적으로 받아졌는지 확인하기 위해 images 명령어로 확인</p>
<p>images 명령은 도커엔진에 존재하는 이미지의 목록을 출력</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker images
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2750fc1a-5178-475f-94f6-23f8efb72c5c%2FUntitled.png?table=block&amp;id=5de0e779-15da-491d-87ba-47f98ac2d06d&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>컨테이너를 생성할 때는 run 명령어가 아닌 create 명령어를 사용할 수도 있습니다.</p>
<p>다음 명령어로 centos:7 이미지로 컨테이너를 생성합니다.</p>
<p>—name 옵션에는 컨테이너의 이름을 설정합니다.</p>
<p>여기서는 mycentos로 설정합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker create -it --name mycentos centos:7
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F004665bd-55bd-40c0-b536-026ea6e6d544%2FUntitled.png?table=block&amp;id=e0b2be60-7c53-446e-a7da-ac00344a64f9&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>그런데 이번에는 컨테이너 내부로 들어가지는 않습니다.</p>
<p>create 명령어는 컨테이너를 생성만 할 뿐 컨테이너로 들어가지 않기 때문입니다.</p>
<p>이번에는 docker start 명령어로 컨테이너를 시작하고 docker attach 명령어로 내부로 들어갑니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker start f1afdca9b635
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4ad511dd-2aac-4727-9227-ffb28978a9af%2FUntitled.png?table=block&amp;id=7f3704a4-cb81-4a94-9ab8-a5bc32c54725&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker attach mycentos
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd71fc265-142f-47eb-80e2-683f87721c2a%2FUntitled.png?table=block&amp;id=4ecbbbdd-43c6-4b7c-9cdc-187772477f3d&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=1800&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>이번에는 exit가 아닌 ctrl + P, Q를 입력해 컨테이너에서 빠져나옵니다.</p>
<p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F2b7882e2-9987-4906-bff3-d88ca3fc344a%2FUntitled.png?table=block&amp;id=b5d75fb1-9ca9-413d-b873-0d77bcae74fa&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
</li>
</ol>
<p>지금까지 컨테이너를 생성하기 위해 run, create, start 명령어를 사용</p>
<p>run 명령은 pull, create, start명령어를 일괄적으로 실행한 후 attach가 가능한 컨테이너라면 컨테이너 내부로 들어갑니다.</p>
<p>하지만 create 명령어는 도커 이밎를 pull한 후에 컨테이너를 생성만 할 뿐 start attach를 실행하지는 않습니다.</p>
<p>보통은 생성과 동시에 실행시키기 때문에 run을 주로 씁니다.</p>
<p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc8c2b5c7-28a8-4e39-91ff-76cb3ee13d55%2FUntitled.png?table=block&amp;id=cbe4c36f-d2eb-4d4f-b503-507be348c8a2&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<h1 id="컨테이너-목록-확인">컨테이너 목록 확인</h1>
<p>docker ps 명령 : 정지되지 않은 컨테이너만 출력 ⇒ exit로 빠져나온 컨테이너는 출력되지 않음 ⇒ ctrl + P,Q로 빠져나온 컨테이너는 출력</p>
<p>docker ps -a 명령 : 정지된 컨테이너까지 포함해서 출력</p>
<p>Exited : 정지상태, Up : 실행중인 상태</p>
<h3 id="컨테이너-세부-정보-확인">컨테이너 세부 정보 확인</h3>
<p>docker inspect 명령 : 컨테이너의 세부 정보를 보여줍니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker inspect mycentos
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Id&#34;</span><span class="p">:</span> <span class="s2">&#34;f1afdca9b635191d9cd078564c21204fc96c387f75d583b83b5c59e41df40365&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Created&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-04-16T02:08:31.924789206Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Path&#34;</span><span class="p">:</span> <span class="s2">&#34;/bin/bash&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Args&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;State&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Status&#34;</span><span class="p">:</span> <span class="s2">&#34;running&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Running&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Paused&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Restarting&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;OOMKilled&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Dead&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Pid&#34;</span><span class="p">:</span> <span class="mi">17852</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ExitCode&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Error&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;StartedAt&#34;</span><span class="p">:</span> <span class="s2">&#34;2023-04-16T02:14:58.401748112Z&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;FinishedAt&#34;</span><span class="p">:</span> <span class="s2">&#34;0001-01-01T00:00:00Z&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Image&#34;</span><span class="p">:</span> <span class="s2">&#34;sha256:eeb6ee3f44bd0b5103bb561b4c16bcb82328cfe5809ab675bb17ab3a16c517c9&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ResolvConfPath&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/containers/f1afdca9b635191d9cd078564c21204fc96c387f75d583b83b5c59e41df40365/resolv.conf&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;HostnamePath&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/containers/f1afdca9b635191d9cd078564c21204fc96c387f75d583b83b5c59e41df40365/hostname&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;HostsPath&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/containers/f1afdca9b635191d9cd078564c21204fc96c387f75d583b83b5c59e41df40365/hosts&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;LogPath&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/containers/f1afdca9b635191d9cd078564c21204fc96c387f75d583b83b5c59e41df40365/f1afdca9b635191d9cd078564c21204fc96c387f75d583b83b5c59e41df40365-json.log&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;/mycentos&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;RestartCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Driver&#34;</span><span class="p">:</span> <span class="s2">&#34;overlay2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Platform&#34;</span><span class="p">:</span> <span class="s2">&#34;linux&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;MountLabel&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ProcessLabel&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;AppArmorProfile&#34;</span><span class="p">:</span> <span class="s2">&#34;docker-default&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;ExecIDs&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;HostConfig&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Binds&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ContainerIDFile&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;LogConfig&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;Type&#34;</span><span class="p">:</span> <span class="s2">&#34;json-file&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;Config&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;max-size&#34;</span><span class="p">:</span> <span class="s2">&#34;100m&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;NetworkMode&#34;</span><span class="p">:</span> <span class="s2">&#34;default&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;PortBindings&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;RestartPolicy&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;no&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;MaximumRetryCount&#34;</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;AutoRemove&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;VolumeDriver&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;VolumesFrom&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ConsoleSize&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="mi">39</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="mi">142</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CapAdd&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CapDrop&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CgroupnsMode&#34;</span><span class="p">:</span> <span class="s2">&#34;private&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Dns&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;DnsOptions&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;DnsSearch&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ExtraHosts&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;GroupAdd&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;IpcMode&#34;</span><span class="p">:</span> <span class="s2">&#34;private&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Cgroup&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Links&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;OomScoreAdj&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;PidMode&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Privileged&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;PublishAllPorts&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ReadonlyRootfs&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;SecurityOpt&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;UTSMode&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;UsernsMode&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ShmSize&#34;</span><span class="p">:</span> <span class="mi">67108864</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Runtime&#34;</span><span class="p">:</span> <span class="s2">&#34;runc&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Isolation&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuShares&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Memory&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;NanoCpus&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CgroupParent&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;BlkioWeight&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;BlkioWeightDevice&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;BlkioDeviceReadBps&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;BlkioDeviceWriteBps&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;BlkioDeviceReadIOps&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;BlkioDeviceWriteIOps&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuPeriod&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuQuota&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuRealtimePeriod&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuRealtimeRuntime&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpusetCpus&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpusetMems&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Devices&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;DeviceCgroupRules&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;DeviceRequests&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;MemoryReservation&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;MemorySwap&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;MemorySwappiness&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;OomKillDisable&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;PidsLimit&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Ulimits&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;CpuPercent&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;IOMaximumIOps&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;IOMaximumBandwidth&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;MaskedPaths&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/asound&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/acpi&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/kcore&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/keys&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/latency_stats&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/timer_list&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/timer_stats&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/sched_debug&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/scsi&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/sys/firmware&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;ReadonlyPaths&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/bus&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/fs&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/irq&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/sys&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/proc/sysrq-trigger&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;GraphDriver&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Data&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;LowerDir&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/overlay2/a9276276bbdc0b2db6e6c5de5f226987b2065e0748c009bbfe00e36ee1275dae-init/diff:/mnt/storage/docker/overlay2/3df9691c76574956aea487baf61084bafb91b15f815f681935949d9a4dbf80d2/diff&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;MergedDir&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/overlay2/a9276276bbdc0b2db6e6c5de5f226987b2065e0748c009bbfe00e36ee1275dae/merged&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;UpperDir&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/overlay2/a9276276bbdc0b2db6e6c5de5f226987b2065e0748c009bbfe00e36ee1275dae/diff&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;WorkDir&#34;</span><span class="p">:</span> <span class="s2">&#34;/mnt/storage/docker/overlay2/a9276276bbdc0b2db6e6c5de5f226987b2065e0748c009bbfe00e36ee1275dae/work&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;overlay2&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Mounts&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;Config&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Hostname&#34;</span><span class="p">:</span> <span class="s2">&#34;f1afdca9b635&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Domainname&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;User&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;AttachStdin&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;AttachStdout&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;AttachStderr&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Tty&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;OpenStdin&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;StdinOnce&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Env&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Cmd&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s2">&#34;/bin/bash&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Image&#34;</span><span class="p">:</span> <span class="s2">&#34;centos:7&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Volumes&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;WorkingDir&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Entrypoint&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;OnBuild&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Labels&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.label-schema.build-date&#34;</span><span class="p">:</span> <span class="s2">&#34;20201113&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.label-schema.license&#34;</span><span class="p">:</span> <span class="s2">&#34;GPLv2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.label-schema.name&#34;</span><span class="p">:</span> <span class="s2">&#34;CentOS Base Image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.label-schema.schema-version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.label-schema.vendor&#34;</span><span class="p">:</span> <span class="s2">&#34;CentOS&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.opencontainers.image.created&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-11-13 00:00:00+00:00&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.opencontainers.image.licenses&#34;</span><span class="p">:</span> <span class="s2">&#34;GPL-2.0-only&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.opencontainers.image.title&#34;</span><span class="p">:</span> <span class="s2">&#34;CentOS Base Image&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;org.opencontainers.image.vendor&#34;</span><span class="p">:</span> <span class="s2">&#34;CentOS&#34;</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;NetworkSettings&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Bridge&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;SandboxID&#34;</span><span class="p">:</span> <span class="s2">&#34;615507eabcfcbd8e6b47e2669c37460b96667472c37f54a3abee45f8ed0923e3&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;HairpinMode&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;LinkLocalIPv6Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;LinkLocalIPv6PrefixLen&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Ports&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;SandboxKey&#34;</span><span class="p">:</span> <span class="s2">&#34;/var/run/docker/netns/615507eabcfc&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;SecondaryIPAddresses&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;SecondaryIPv6Addresses&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;EndpointID&#34;</span><span class="p">:</span> <span class="s2">&#34;19fcc1ec53f8b7c08520784248f87ab41f5864ee96130e25003f74a3d1626b14&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Gateway&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.0.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;GlobalIPv6Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;GlobalIPv6PrefixLen&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;IPAddress&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.0.2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;IPPrefixLen&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;IPv6Gateway&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;MacAddress&#34;</span><span class="p">:</span> <span class="s2">&#34;02:42:ac:11:00:02&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&#34;Networks&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&#34;bridge&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;IPAMConfig&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;Links&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;Aliases&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;NetworkID&#34;</span><span class="p">:</span> <span class="s2">&#34;8eec44230881f9f914dc8ce9a4c1335420e803012cf2100388e7cabe148f605c&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;EndpointID&#34;</span><span class="p">:</span> <span class="s2">&#34;19fcc1ec53f8b7c08520784248f87ab41f5864ee96130e25003f74a3d1626b14&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;Gateway&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.0.1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;IPAddress&#34;</span><span class="p">:</span> <span class="s2">&#34;172.17.0.2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;IPPrefixLen&#34;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;IPv6Gateway&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;GlobalIPv6Address&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;GlobalIPv6PrefixLen&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;MacAddress&#34;</span><span class="p">:</span> <span class="s2">&#34;02:42:ac:11:00:02&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&#34;DriverOpts&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><h3 id="container-id">CONTAINER ID</h3>
<p>컨테이너에 자동으로 할당된 고유한 ID</p>
<p>full id 중에 앞의 12자리만 표시됩니다.</p>
<p>full id는 docker inspect 명령으로 확인이 가능합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker inspect mycentos <span class="p">|</span> grep Id
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff135a39b-4b48-4a9f-beca-0f81f98fd112%2FUntitled.png?table=block&amp;id=0b651fd7-e9fb-4dc6-b13b-ed7f41a0c465&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<h3 id="image">IMAGE</h3>
<p>컨테이너를 생성할 때 사용된 이미지의 이름입니다.</p>
<h3 id="command">COMMAND</h3>
<p>COMMAND는 컨테이너가 시작될 떄 실행할 명령어 커맨드는 대부분의 이미지에 미리 내장돼있기 때문에 별도로 설정할 필요는 없습니다. 위에서 생성한 centos:7, ubuntu:18.04 이미지에는 /bin/bash라는 커맨드가 내장되어 있지 때문에 컨테이너를 생성할 때 별도의 커맨드를 설정하지 않았습니다. 컨테이너가 시작될 때 /bin/bash 명령이 실행됐으므로 상호 입출력이 가능한 쉘 환경을 사용할 수 있었습니다.</p>
<p>이미지에 내장된 커맨드는 docker run이나 create 명령어의 맨 끝에 입력해서 컨테이너를 생성할 때 덮어쓸 수 있습니다. 예를 들어, 아래의 docker run 명령어로 생성되는 컨테이너는 실행될 때마다 echo hello world를 실행합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it ubuntu:18.04 <span class="nb">echo</span> <span class="s2">&#34;hello world!&#34;</span>
</span></span></code></pre></div><p><img src="https://island-primula-917.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd8e62bf4-b7d1-4dec-a166-cd7b73bd9c8d%2FUntitled.png?table=block&amp;id=131485db-7120-49c6-b92f-0b729b8828ae&amp;spaceId=9bc99f35-edf4-4599-af44-3f7fb94b56cd&amp;width=2000&amp;userId=&amp;cache=v2" alt="Untitled"></p>
<p>그러나 위 명령으로 생성된 컨테이너는 ubuntu:18.04에 내장된 /bin/bash command를 덮어쓰기 때문에 상호입출력이 가능한 쉘이 실행되지 않아 &ldquo;hello world!&ldquo;만 실행되고 컨테이너 종료</p>
<h3 id="name">NAME</h3>
<p>컨테이너의 고유한 이름입니다. 컨테이너를 생성할 때 —name 옵션으로 이름을 설정하지 않은 경우 도커엔진이 임의로 형용사와 명사를 무작위로 조합해 이름을 설정하기 때문에 ubuntu 컨테이너의 이름이 예시에서는 sweet_pascal로 설정되어 있습니다. ID와 마찬가지로 고유해야 하며 중복되면 안되지만 docker rename 명령으로 변경은 가능합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker rename jolly_benz my_ubuntu1804
</span></span></code></pre></div><p><img src="/images/container-tutorial/1.png" alt="Untitled"></p>
<h1 id="컨테이너-삭제">컨테이너 삭제</h1>
<p>더 이상 사용하지 않는 컨테이너를 삭제할 때는 docker rm 명령어 사용</p>
<p>한번 삭제한 컨테이너는 복구할 수 없으므로 삭제할 때는 신중을 기해야 합니다.</p>
<p>그러나 위에서 생성한 CentOS, Ubuntu는 연습용이므로 지워도 문제는 없습니다.</p>
<p>다음 명령을 통해 컨테이너를 삭제합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker rm sweet_pascal
</span></span></code></pre></div><p>컨테이너가 삭제됐는지 확인하려면 docker ps -a 명령을 입력합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker ps -a
</span></span></code></pre></div><p><img src="/images/container-tutorial/2.png" alt="Untitled"></p>
<p>이번에는 mycentos 컨테이너를 삭제합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker rm mycentos
</span></span></code></pre></div><p><img src="/images/container-tutorial/3.png" alt="Untitled"></p>
<p>에러가 났네요?!</p>
<p>실행 중인 컨테이너는 삭제할 수 없으므로</p>
<ol>
<li>
<p>컨테이너를 정지 후 삭제</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker stop mycentos
</span></span><span class="line"><span class="cl">sudo docker rm mycentos
</span></span></code></pre></div></li>
<li>
<p>실행되던지 말던지 강제 삭제 옵션</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker rm -f mycentos
</span></span></code></pre></div></li>
</ol>
<p><img src="/images/container-tutorial/4.png" alt="Untitled"></p>
<p>돌리고 던져놓은 컨테이너가 너무나 많아 일일히 삭제하기가 귀찮다면</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker container prune
</span></span></code></pre></div><p>진짜로 다 지울거냐를 물어봅니다.</p>
<p><img src="/images/container-tutorial/5.png" alt="Untitled"></p>
<p>y를 입력하면 다 지워집니다.</p>
<p><img src="/images/container-tutorial/6.png" alt="Untitled"></p>
<p>docker ps 명령의 -a와 -q 옵션을 조합해 삭제</p>
<p>-q 옵션 : ID만 출력</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker ps -a -q
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker stop <span class="k">$(</span>sudo docker ps -a -q<span class="k">)</span>
</span></span><span class="line"><span class="cl">sudo docker rm <span class="k">$(</span>sudo docker ps -a -q<span class="k">)</span>
</span></span></code></pre></div><h1 id="컨테이너를-외부에-노출">컨테이너를 외부에 노출</h1>
<p>컨테이너는 가상 머신과 마찬가지로 가상 IP주소를 할당받습니다.</p>
<p>기본적으로 docker 는 컨테이너에 172.17.0.x의 IP를 순차적으로 할당합니다.</p>
<p>컨테이너를 새롭게 생성한 후 ifconfig 명령어로 컨테이너의 네트워크 인터페이스를 확인합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name network_test ubuntu:20.04
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@6f0c1e0f544b:/# apt update
</span></span><span class="line"><span class="cl">root@6f0c1e0f544b:/# apt install net-tools
</span></span><span class="line"><span class="cl">root@6f0c1e0f544b:/# ifconfig
</span></span></code></pre></div><p><img src="/images/container-tutorial/7.png" alt="Untitled"></p>
<p>docker의 NAT IP인 172.17.0.2를 할당받은 eth0 인터페이스와 로컬 호스트인 lo인터페이스가 있습니다.</p>
<p>아무런 설정을 하지 않았다면 이 컨테이너는 외부에서 접근이 불가능 - 해당 docker 가 설치된 host만 가능</p>
<p>외부에 컨테이너의 에플리케이션을 노출하기 위해서는 eth0의 IP와 port를 호스트의 IP와 port에 바인딩해야 합니다.</p>
<p>컨테이너에서 호스트로 빠져나온 뒤 다음 명령어를 입력해 컨테이너를 생성합니다. 이 컨테이너에 nginx 웹 서버를 설치해 외부에 노출할 것입니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name mywebserver -p 80:80  ubuntu:20.04 
</span></span></code></pre></div><p>-p 옵션 ; 컨테이너의 포트를 호스트의 포트와 바인딩해 연결할 수 있게 설정</p>
<!-- raw HTML omitted -->
<p>호스트의 특정 ip를 사용해서 port forwarding 가능 예 : 192.168.0.100:7777:80</p>
<p>port forwarding을 여러개 하고 싶습니다. ⇒ -p 옵션을 여러개 쓰세요 예 : sudo docker run -it -p 3306:3306 -p 192.168.0.100:7777:80 ubuntu:20.04</p>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@1f22a7d7162d:/# apt update
</span></span><span class="line"><span class="cl">root@1f22a7d7162d:/# apt install nginx
</span></span><span class="line"><span class="cl">root@1f22a7d7162d:/# service nginx start
</span></span><span class="line"><span class="cl">root@1f22a7d7162d:/# service nginx status
</span></span></code></pre></div><p><img src="/images/container-tutorial/8.png" alt="Untitled"></p>
<p>GCP compute engine vm의 외부 ip로 접속하면 아래와 같은 화면이 보입니다.</p>
<p><img src="/images/container-tutorial/9.png" alt="Untitled"></p>
<p>그런데 이런식으로 Docker를 쓰면 Docker를 쓰는 의미가 딱히 없죠?</p>
<p>이번엔 apache 웹서버 이미지를 바로 실행해보겠습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run --name my-apache-server -p 8080:80 httpd
</span></span></code></pre></div><p><img src="/images/container-tutorial/10.png" alt="Untitled"></p>
<p>이제 8080포트로 접속해보겠습니다.</p>
<p><img src="/images/container-tutorial/11.png" alt="Untitled"></p>
<p>엇 접속이 안됩니다. ㅠㅠ</p>
<ul>
<li>
<p>왜 접속이 안될까요?</p>
<p>gcp compute Engine vm의 방화벽을 열지 않았습니다.</p>
<p>다음과 같이 방화벽을 엽니다.</p>
<ol>
<li>
<p>방화벽 메뉴로 들어갑니다.</p>
</li>
<li>
<p>방화벽 규칙 만들기 버튼을 누릅니다.</p>
</li>
<li>
<p>방화벽 규칙의 정보들을 입력한 후 만들기 버튼을 누릅니다.</p>
<ul>
<li>이름 : default-allow-http-8080</li>
<li>설명 : 8080포트의 접근을 허용합니다.</li>
<li>대상 : 네트워크의 모든 인스턴스</li>
<li>소스 IPv4 범위 : 0.0.0.0/0 (모두)</li>
<li>프로토콜 및 포트 : TCP - 8080</li>
</ul>
</li>
</ol>
</li>
</ul>
<p>접속이 되는 것을 볼 수 있습니다.</p>
<p><img src="/images/container-tutorial/12.png" alt="Untitled"></p>
<p>호스트의 IP의 port를 컨테이너의 IP와 port로 연결한다는 개념은 매우 중요합니다.</p>
<p>아파치 웹서버는 172 대역을 가진 컨테이너의 NAT IP의 80번 포트로 서비스하므로 여기에 접근하려면 172.17.0.x:80의 주소로 접근해야 합니다.</p>
<p>그러나 docker의 port-forward 옵션인 -p를 써서 호스트와 컨테이너를 연결했으므로 호스트의 IP와 포트를 통해 172.17.0.x.:80으로 접근할 수 있습니다.</p>
<p>순서를 정리하면 다름과 같습니다.</p>
<p><img src="/images/container-tutorial/13.png" alt="Untitled"></p>
<p>그러나 다음같이 -p 80:81로 입력했다면 외부에서 웹 서버에 접근하지 못합니다.</p>
<p>호스트의 80번 포트가 forward하는 컨테이너의 포트는 81이고 81에서는 아무일도 일어나지 않습니다.</p>
<h1 id="컨테이너-application-구축">컨테이너 application 구축</h1>
<p>대부분의 서비스는 단일 프로그램으로 동작하지 않습니다.</p>
<p>특히나 요즘처럼 MSA의 중요성을 이야기하는 시대에는 더욱 단일 프로그램으로 동작하는 서비스를 찾기 힘듭니다.</p>
<p>최소 DB정도는 분리하게 되죠</p>
<p>이런 서비스를 containerize할 때 여러 개의 애플리케이션을 한 컨테이너에 설치할 수도 있습니다.</p>
<p>그러나 컨테이너에 애플리케이션을 하나만 동작시키면 컨테이너 간의 독립성을 보장함과 동시에 애플리케이션의 버전 관리, 소스코드 모듈화 등이 더욱 쉬워집니다.</p>
<p>이 구조는 docker community와 docker 공식 문서에서도 구너장하는 구조입니다.</p>
<p>docker는 one container, one process가 그들의 철학이기 떄문이죠</p>
<p>다음은 웹 서버와 DB의 예시입니다.</p>
<ol>
<li>
<p>먼저 DB 컨테이너를 생성합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name wordpressdb <span class="se">\\</span>
</span></span><span class="line"><span class="cl"> -e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>password <span class="se">\\</span>
</span></span><span class="line"><span class="cl"> -e <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>wordpress <span class="se">\\</span>
</span></span><span class="line"><span class="cl">mysql:5.7
</span></span></code></pre></div></li>
<li>
<p>그 다음 워드프레스 컨테이너를 생성합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name wordpress <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">WORDPRESS_DB_HOST</span><span class="o">=</span>mysql <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">WORDPRESS_DB_USER</span><span class="o">=</span>root <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">WORDPRESS_DB_PASSWORD</span><span class="o">=</span>password <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--link wordpressdb:mysql <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-p <span class="m">80</span> wordpress
</span></span></code></pre></div></li>
</ol>
<p>docker ps 명령 결과의 PORTS 컬럼을 확인해보겠습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker ps
</span></span></code></pre></div><p><img src="/images/container-tutorial/14.png" alt="Untitled"></p>
<p>이 예제에서는 호스트의 32768번 포트와 연결했습니다. 따라서 호스트이 IP와 32768번 포트로 워드프레스 웹 서버에 접근할 수 있습니다. 웹 브라우저로 [호스트 IP]:32768에 접근했을 때 다음과 같은 화면이 나타나면 워드프레스 컨테이너가 성공적으로 생성된 것입니다.</p>
<p><img src="/images/container-tutorial/15.png" alt="Untitled"></p>
<h3 id="sudo-docker-run의--d---e-link-옵션">sudo docker run의 -d , -e, —link 옵션</h3>
<p>-d 옵션</p>
<ul>
<li>-i -t 옵션으로 run을 실행하면 표준 입출력이 활성화된 상호작용이 가능한 쉘 환경을 사용할 수 있음</li>
<li>하지만 -d 옵션으로 run을 실행하면 입출력이 없는 상태로 컨테이너를 실행</li>
<li>컨테이너 내부에서는 프로그램이 터미널을 차지하는 foreground로 실행돼 사용자의 입력을 받지 않음</li>
<li>detached 모드인 컨테이너는 반드시 컨테이너에서 프로그램이 실행돼야 하며, foreground 프로그램이 실행되지 않으면 컨테이너 종료</li>
<li>mysql은 하나의 터미널을 차지하는 mysqld, wordpress는 하나의 터미널을 차지하는 apache2-foreground를 실행하므로 -d 옵션을 지정해 호스트에서는 background로 설정</li>
</ul>
<p>-e 옵션</p>
<ul>
<li>
<p>컨테이너 내부의 환경변수를 설정</p>
</li>
<li>
<p>containerized application은 환경변수에서 값을 가져와 쓰는 경우가 많으므로 자주 사용하는 옵션 중 하나입니다. mysql 컨테이너를 생성할 떄 설정한 -e 옵션의 값을 살펴보면 mysql 컨테이너의 환경변수로 어떤 것이 설정됐는지 알 수 있습니다.</p>
</li>
<li>
<p>mysql 환경변수</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">-e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>password
</span></span><span class="line"><span class="cl">-e <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>wordpress
</span></span></code></pre></div></li>
<li>
<p>환경변수 확인</p>
<p>리눅스에서 환경변수를 확인하는 가장 간단한 방법 : echo</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="si">${</span><span class="nv">ENV_NAME</span><span class="si">}</span>
</span></span></code></pre></div><p>이걸 확인하려면 컨테이너의 쉘을 사용해야 하는데 mysql과 wordpress는 attach 명령은 의미가 없습니다.</p>
<p>attach 쓰면 그냥 log만 나옵니다.</p>
<p><img src="/images/container-tutorial/16.png" alt="Untitled"></p>
<p>그래서 exec 명령으로 컨테이너 내부의 bash쉘을 실행시켜야 합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker <span class="nb">exec</span> -it wordpressdb /bin/bash
</span></span></code></pre></div><p><img src="/images/container-tutorial/17.png" alt="Untitled"></p>
</li>
</ul>
<p>—link 옵션</p>
<ul>
<li>
<p>컨테이너 내부 IP를 알 필요 없이 항상 컨테이너에 alias로 접근하도록 설정</p>
</li>
<li>
<p>위에서 생성한 워드프레스 웹 서버 컨테이너는 —link 옵션의 값에서 wordpressdb 컨테이너를 mysql이라는 이름으로 설정했습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">--link wordpressdb:mysql
</span></span></code></pre></div><ul>
<li>
<p>워드프레스 웹 서버 컨테이너는 wordpressdb의 IP를 몰라도 mysql이라는 호스트명으로 접근할 수 있게 됨</p>
</li>
<li>
<p>다음 명령으로 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker <span class="nb">exec</span> wordpress curl mysql:3306
</span></span></code></pre></div></li>
</ul>
</li>
<li>
<p>실행 순서의 의존성도 정의</p>
<p>wordpress, wordpressdb 모두 컨테이너 중지를 합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker stop wordpress wordpressdb
</span></span></code></pre></div><p><img src="/images/container-tutorial/18.png" alt="Untitled"></p>
<p>그리고 wordpress를 다시 실행시키면</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker start wordpress
</span></span></code></pre></div><p><img src="/images/container-tutorial/19.png" alt="Untitled"></p>
<p>에러가 납니다.</p>
</li>
<li>
<p>컨테이너 간에 이름으로 서로를 찾을 수 있게 도와주지만 deprecated 된 옵션</p>
</li>
<li>
<p>docker bridge network를 사용하면 —link 옵션과 동일한 기능을 더욱 손쉽게 사용할 수 있으므로 bridge network를 사용하는 것을 권장</p>
</li>
</ul>
<h1 id="도커-볼륨">도커 볼륨</h1>
<p>도커 이미지로 컨태이너를 생성하면 이미지는 readonly이 되며 컨테이너의 변경 사항만 별도로 저장해서 각 컨테이너의 정보를 보존</p>
<p>위에서 생성했던 mysql 컨테이너는 mysql:5.7이라는 이미지로 생성됐지만 워드프레스 블로그를 위한 DB등의 정보는 컨테이너가 갖고 있습니다.</p>
<p><img src="/images/container-tutorial/20.png" alt="Untitled"></p>
<p>이미 생성된 이미지는 어떠한 경우로도 변경되지 않으며, 컨테이너 계층에 원래 이미지에서 변경된 파일시스템 등을 저장합니다. 이미지에 mysql을 실행하는 데 필요한 애플리케이션 파일이 들어있다면 컨테이너 계층에는 워드프레스에서 쓴 로그인 정보나 게시글 등과 같이 데이터베이스를 운용하면서 쌓이는 데이터가 저장</p>
<h3 id="컨테이너-레이어의-치명적-문제">컨테이너 레이어의 치명적 문제</h3>
<p>이미지로 빌드시 너무나 많은 변경사항이 일어났기 때문에 레이어가 과도하게 쌓임</p>
<p>mysql 컨테이너를 삭제하면 컨테이너 계층에 저장돼있던 데이터베이스의 정보도 삭제</p>
<p>도커의 컨테이너는 생성과 삭제가 매우 쉬우므로 실수로 컨테이너를 삭제하면 데이터를 복구할 수 없음</p>
<p>이를 방지하기 위해 컨테이너의 데이터를 영속적 데이터로 활용할 수 있는 방법</p>
<p>⇒ <strong>볼륨을 활용하는 것</strong></p>
<ol>
<li>호스트와 볼륨을 공유</li>
<li>볼륨 컨테이너를 활용</li>
<li>도커과 관리하는 볼륨을 생성</li>
</ol>
<h2 id="호스트-볼륨-공유">호스트 볼륨 공유</h2>
<p>다음 명령어를 입력해 mysql 컨테이너와 워드프레스 웹서버 컨테이너 생성</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--name wordpressdb_hostvolume <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>password <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">MYSQL_DATABASE</span><span class="o">=</span>wordpress <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v ~/wordpress_db:/var/lib/mysql <span class="se">\\</span>
</span></span><span class="line"><span class="cl">mysql:5.7
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">WORDPRESS_DB_PASSWORD</span><span class="o">=</span>password <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--name wordpress_hostvolume <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--link wordpressdb_hostvolume:mysql <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-p <span class="m">80</span> <span class="se">\\</span>
</span></span><span class="line"><span class="cl">wordpress
</span></span></code></pre></div><p>워드프레스 컨테이너에 -p 옵션으로 컨테이너의 80포트를 외부에 노출했으므로 docker ps명령어에서 확인한 wordpress_hostvolume 컨테이너의 호스트 포트로 워드프레스 컨테이너에 접속</p>
<p>-v 옵션</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">-v ~/wordpress_db:/var/lib/mysql
</span></span><span class="line"><span class="cl">-v <span class="o">[</span>호스트 공유 디렉토리<span class="o">]</span>:<span class="o">[</span>컨테이너 공유 디렉토리<span class="o">]</span>
</span></span></code></pre></div><p>호스트의 ~/wordpress_db와 컨테이너의 /var/lib/mysql를 공유</p>
<p>미리 ~/wordpress_db 디렉토리를 호스트에 생성하지 않았어도 도커가 자동 생성</p>
<p>컨테이너를 삭제해서 실제 DB의 데이터가 보존되는지 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker stop wordpressdb_hostvolume wordpress_hostvolume
</span></span><span class="line"><span class="cl">sudo docker rm wordpressdb_hostvolume wordpress_hostvolume
</span></span></code></pre></div><p>다시 ~/wordpress_db 디렉토리를 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls ~/wordpress_db/
</span></span></code></pre></div><p><img src="/images/container-tutorial/21.png" alt="Untitled"></p>
<p>~/wordpress_db:/var/lib/mysql 이 둘은 동기화 되는 개념이 아니라 그냥 같은 디렉토리</p>
<p><img src="/images/container-tutorial/22.png" alt="Untitled"></p>
<p>디렉토리 뿐만 아니라 단일 파일도 가능, 여러개의 -v 옵션도</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">echo</span> hello &gt;&gt; ~/hello <span class="o">&amp;&amp;</span> <span class="nb">echo</span> hello2 &gt;&gt; ~/hello2
</span></span><span class="line"><span class="cl">sudo docker run -it --name file_volume <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v ~/hello:/hello <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v ~/hello2:/hello2 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@2b574c6896cc:/# cat hello <span class="o">&amp;&amp;</span> cat hello2
</span></span></code></pre></div><p><img src="/images/container-tutorial/23.png" alt="Untitled"></p>
<p>원래 호스트에는 ~/wordpress_db 디렉토리가 존재하지 않았음</p>
<p>-v 옵션을 사용함으로써 호스트에 ~/wordpress_db 디렉토리 생성, 파일 공유</p>
<p>⇒ 컨테이너의 파일이 호스트로 복사</p>
<p>호스트와 컨테이너 양쪽 모두에 동일한 파일이 있을 경우</p>
<ol>
<li>
<p>alicek106/volume_test이미지의 /home/testdir_2 디렉토리 내용 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name volume_dummy <span class="se">\\</span>
</span></span><span class="line"><span class="cl">alicek106/volume_test <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ls /home/testdir_2/
</span></span></code></pre></div><p><img src="/images/container-tutorial/24.png" alt="Untitled"></p>
</li>
<li>
<p>이제 -v 옵션을 사용해서 컨테이너를 생성</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name volume_overide <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v ~/wordpress_db:/home/testdir_2 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">alicek106/volume_test <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ls /home/testdir_2/
</span></span></code></pre></div><p><img src="/images/container-tutorial/25.png" alt="Untitled"></p>
</li>
</ol>
<p>공유한 컨테이너 디렉토리자체가 호스트의 디렉토리 내용으로 덮어씌워짐</p>
<p>⇒ 호스트의 디렉토리가 컨테이너의 디렉토리를 마운트포인트로 마운트</p>
<h2 id="볼륨-컨테이너">볼륨 컨테이너</h2>
<p>-v 옵션으로 볼륨을 사용하는 컨테이너를 다른 컨테이너와 공유하는 것</p>
<p>컨테이너를 생성할때 —volumes-from 옵션을 설정하면 -v 또는 —volume 옵션을 적용한 컨테이너의 볼륨 디렉토리를 공유</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--name volumes_from_container <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--volumes-from volume_overide <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ls /home/testdir_2
</span></span></code></pre></div><p><img src="/images/container-tutorial/26.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/27.png" alt="Untitled"></p>
<h2 id="도커볼륨">도커볼륨</h2>
<p>도커 자체에서 제공하는 볼륨 기능을 활용해 데이터를 보존</p>
<p>볼륨을 다루는 명령어는 docker volume</p>
<h3 id="생성">생성</h3>
<p>다음 명령으로 도커 볼륨을 생성합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker volume create --name myvolume
</span></span></code></pre></div><p><img src="/images/container-tutorial/28.png" alt="Untitled"></p>
<p>플러그인 드라이버를 설정해 여러 종류의 스토리지 백엔드를 쓸 수 있지만 여기서는 기본적으로 제공되는 드라이버인 local을 사용</p>
<p>이 볼륨은 로컬호스트에 저장되며 도커엔진에 의해 생성되고 삭제</p>
<h3 id="해당-볼륨을-쓰는-컨테이너-생성">해당 볼륨을 쓰는 컨테이너 생성</h3>
<p>여기서 -v 옵션에는 [볼륨이름]:[컨테이너 공유 디렉토리] 이런식으로 입력합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name myvolume_1 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v myvolume:/root/ <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04 
</span></span></code></pre></div><p>해당 볼륨에 파일을 하나 씁니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@c54946a5664c:/# <span class="nb">echo</span> hello, volume! &gt;&gt; /root/volume
</span></span></code></pre></div><p>그 다음 같은 볼륨을 마운트하는 컨테이너를 하나 더 만들어서 확인해봅니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name myvolume_2 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v myvolume:/root/ <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">cat /root/volume
</span></span></code></pre></div><p><img src="/images/container-tutorial/29.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/30.png" alt="Untitled"></p>
<p>볼륨은 디렉토리 하나에 상응하는 단위로서 docker engine에서 관리</p>
<p>도커 볼륨도 호스트 볼륨 공유와 마찬가지로 호스트에 저장함으로써 데이터를 보존하지만 파일이 실제로 어디에 저장되는지 사용자는 알 필요가 없습니다.</p>
<h3 id="볼륨-세부정보">볼륨 세부정보</h3>
<p>다음 명령으로 볼륨이 실제로 어디에 저장되었는지를 알 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker inspect --type volume myvolume
</span></span></code></pre></div><p><img src="/images/container-tutorial/31.png" alt="Untitled"></p>
<p>해당 디렉토리를 뒤져보도록 하겠습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo ls /mnt/storage/docker/volumes/myvolume/_data
</span></span></code></pre></div><p><img src="/images/container-tutorial/32.png" alt="Untitled"></p>
<h3 id="볼륨-자동-생성">볼륨 자동 생성</h3>
<p>-v 옵션에서 공유할 디렉토리 위치를만 입력하면 해당 디렉토리에 대한 볼륨을 자동으로 생성</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name volume_auto <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-v /root <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@ada4230050e3:/# <span class="nb">exit</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker volume ls
</span></span></code></pre></div><p><img src="/images/container-tutorial/33.png" alt="Untitled"></p>
<p>어떤 볼륨에 마운트 되었는지 확인하기 위해 docker inspect로 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker inspect
</span></span></code></pre></div><p><img src="/images/container-tutorial/34.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/35.png" alt="Untitled"></p>
<h3 id="불필요한-volume-삭제">불필요한 volume 삭제</h3>
<p>컨테이너는 삭제해도 볼륨은 남아있기 때문에 불필요한 볼륨은 지워줘야 함</p>
<p>사용하지 않는 볼륨은 한번에 지우는 명령은 다음과 같음</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker volume prune
</span></span></code></pre></div><p><img src="/images/container-tutorial/36.png" alt="Untitled"></p>
<h3 id="mount-옵션">mount 옵션</h3>
<p>-v 옵션 대신 사용 기능은 같지만 옵션주는 방식이 다름</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name mount_option1 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--mount <span class="nv">type</span><span class="o">=</span>volume,source<span class="o">=</span>myvolume,target<span class="o">=</span>/root <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">cat /root/volume
</span></span></code></pre></div><p><img src="/images/container-tutorial/37.png" alt="Untitled"></p>
<h1 id="도커-네트워크">도커 네트워크</h1>
<h2 id="도커-네트워크-구조">도커 네트워크 구조</h2>
<ul>
<li>도커는 컨테이너에 내부 IP를 순차적으로 할당하며, 이 IP는 컨테이너를 재시작할 때마다 변경될 수 있음</li>
<li>이 내부 IP는 도커가 설치된 호스트 ⇒ 내부 망에서만 쓸 수 있는 IP이므로 외부와 연결될 필요가 있음</li>
<li>이 과정은 컨테이너를 시작할 때마다 호스트에 veth…라는 네트워크 인터페이스를 생성함으로써 이뤄짐</li>
<li>각 컨테이너에 외부와의 네트워크를 제공하기 위해 가상 네트워크 인터페이스를 호스트에 생성 이름은 veth로 시작</li>
<li>veth 인터페이스는 사용자가 직접 생성할 필요는 없으며 컨테이너가 생성될 때 도커 엔진이 자동으로 생성</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ifconfig가 없을경우 sudo apt install net-tools</span>
</span></span><span class="line"><span class="cl">ifconfig
</span></span></code></pre></div><p><img src="/images/container-tutorial/38.png" alt="Untitled"></p>
<p>ens4 : GCP의 내부 IP 할당 - 실제로 외부와 통신이 가능한 호스트의 네트워크 인터페이스</p>
<p>veth… : 컨테이너를 시작할 때 생성, 각 컨테이너의 eth0와 연결</p>
<p>docker0 : bridge, 각 veth 인터페이스와 바인딩, 호스트의 ens4 인터페이스와 이어주는 역할</p>
<p><img src="/images/container-tutorial/39.png" alt="Untitled"></p>
<p>실제로 바인딩됐는지 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># apt install bridge-utils</span>
</span></span><span class="line"><span class="cl">brctl show docker0
</span></span></code></pre></div><p><img src="/images/container-tutorial/40.png" alt="Untitled"></p>
<h2 id="도커-네트워크-기능">도커 네트워크 기능</h2>
<ul>
<li>기본적으로 docker0 bridge로 외부와 통신할 수 있는 환경 사용</li>
<li>사용자의 선택에 따라 어려 네트워크 드라이버 사용 가능</li>
<li>자체 제공 드라이버 : bridge, host, none, container, overlay</li>
</ul>
<p>네트워크 목록 확인</p>
<p><img src="/images/container-tutorial/41.png" alt="Untitled"></p>
<h3 id="bridge-네트워크">bridge 네트워크</h3>
<p>docker network inspect옵션으로 bridge 세부 정보 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker network inspect bridge
</span></span></code></pre></div><p><img src="/images/container-tutorial/42.png" alt="Untitled"></p>
<p>subnet : 172.17.0.0/16</p>
<p>geteway : 172.17.0.1</p>
<p>docker0가 아닌 새로운 bridge 타입의 네트워크 생성</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker network create --driver bridge mybridge
</span></span><span class="line"><span class="cl">sudo docker run --name mynetwork_container <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net mybridge <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04
</span></span><span class="line"><span class="cl">ifconfig
</span></span></code></pre></div><p><img src="/images/container-tutorial/43.png" alt="Untitled"></p>
<p>disconnect/connect를 통해 컨테이너에 유동적으로 붙이고 뗄 수 있음</p>
<p>단 특정 IP대역을 갖는 네트워크 모드에만 사용가능(bridge, overlay / host, none은 사용</p>
<p><img src="/images/container-tutorial/44.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/45.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/46.png" alt="Untitled"></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker network disconnect mybridge mynetwork_container
</span></span></code></pre></div><p><img src="/images/container-tutorial/47.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/48.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/49.png" alt="Untitled"></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker network connect mybridge mynetwork_container
</span></span></code></pre></div><p><img src="/images/container-tutorial/50.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/51.png" alt="Untitled"></p>
<p>subnet, gateway, ip range 옵션 추가</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker network create --driver<span class="o">=</span>bridge <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--subnet<span class="o">=</span>172.72.0.0/16 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--ip-range<span class="o">=</span>172.72.0.0/24 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--gateway<span class="o">=</span>172.72.0.1 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">my_custom_network
</span></span></code></pre></div><p><img src="/images/container-tutorial/52.png" alt="Untitled"></p>
<h3 id="host-네트워크">host 네트워크</h3>
<p>네트워크를 호스트로 하면 호스트의 네트워크 환경을 그대로 쓸 수 있음</p>
<p>별도 생성 필요 없이 기존 host라는 이름의 네트워크 사용</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name network_host <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net host <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:20.04
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@instance-node-1:/# apt update
</span></span><span class="line"><span class="cl">root@instance-node-1:/# apt install net-tools
</span></span><span class="line"><span class="cl">root@instance-node-1:/# ifconfig
</span></span></code></pre></div><p><img src="/images/container-tutorial/53.png" alt="Untitled"></p>
<h3 id="none-네트워크">none 네트워크</h3>
<p>아무런 네트워크를 쓰지 않는다는 것을 의미함</p>
<p>외부와의 단절</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name network_none <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net none <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@9a20605c7941:/# ifconfig
</span></span></code></pre></div><p><img src="/images/container-tutorial/54.png" alt="Untitled"></p>
<p>로컬호스트를 나타내는 lo 밖에 네트워크 인터페이스가 없음</p>
<h3 id="container-네트워크">container 네트워크</h3>
<p>—net 옵션으로 container를 입력하면 다른 컨테이너의 네트워크 네임스페이스 환경을 공유할 수 있음</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -itd --name network_container_1 ubuntu:14.04
</span></span><span class="line"><span class="cl">sudo docker run -itd --name network_container_2 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net container:network_container_1 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04
</span></span></code></pre></div><p>내부 IP를 새로 할당받지도 않으며 호스트에 veth로 시작하는 가상 네트워크 인터페이스도 생성되지 않음</p>
<p>network_container_2에 대한 모든 네트워크 설정은 network_container_1와 동일</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker <span class="nb">exec</span> network_container_1 ifconfig
</span></span><span class="line"><span class="cl">sudo docker <span class="nb">exec</span> network_container_2 ifconfig
</span></span></code></pre></div><p><img src="/images/container-tutorial/55.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/56.png" alt="Untitled"></p>
<p>전부 같음</p>
<p><img src="/images/container-tutorial/57.png" alt="Untitled"></p>
<h3 id="브리지-네트워크와-net-alias">브리지 네트워크와 —net-alias</h3>
<p>특정 호스트 이름으로 컨테이너 여러개이 접근 가능</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -itd --name network_alias_container1 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net mybridge <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net-alias lotte <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sudo docker run -itd --name network_alias_container2 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net mybridge <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net-alias lotte <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">sudo docker run -itd --name network_alias_container3 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net mybridge <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net-alias lotte <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04
</span></span></code></pre></div><p><img src="/images/container-tutorial/58.png" alt="Untitled">
해당 호스트명으로 핑을 날려보겠습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -it --name network_alias_ping <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--net mybridge <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@3c8727c3f274:/# ping -c <span class="m">1</span> lotte
</span></span></code></pre></div><p><img src="/images/container-tutorial/59.png" alt="Untitled"></p>
<p>컨테이너 3개의 IP로 각각 PING이 전송된 것을 확인</p>
<p>round robin 방식</p>
<p>도커 내장 DNS가 host 이름을 —net-alias 옵션으로 lotte를 설정한 컨테이너로 변환(resolve)하기 때문</p>
<p>도메인 이름에 대응하는 IP조회</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">root@3c8727c3f274:/# apt update
</span></span><span class="line"><span class="cl">root@3c8727c3f274:/# apt install dnsutils
</span></span><span class="line"><span class="cl">root@3c8727c3f274:/# dig lotte
</span></span></code></pre></div><p><img src="/images/container-tutorial/60.png" alt="Untitled"></p>
<h1 id="컨테이너-로깅">컨테이너 로깅</h1>
<h2 id="json-file-로그-사용">json-file 로그 사용</h2>
<p>컨테이너의 표준 출력과 에러로그를 별도의 메타데이터 파일로 저장하며 이를 확인하는 명령어를 제공</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name mysql <span class="se">\\</span>
</span></span><span class="line"><span class="cl">-e <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span><span class="m">1234</span> <span class="se">\\</span>
</span></span><span class="line"><span class="cl">mysql:5.7
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker logs mysql
</span></span></code></pre></div><p><img src="/images/container-tutorial/61.png" alt="Untitled"></p>
<p>-since : 특정시간 이후의 로그 확인 가능</p>
<p>-f : 로그를 스트림으로 확인</p>
<p>-t : 타임스탬프 표시</p>
<h2 id="syslog">syslog</h2>
<p>json 뿐만 아니라 syslog로 보내 저장하도록 설정</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name syslog_container <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--log-driver<span class="o">=</span>syslog <span class="se">\\</span>
</span></span><span class="line"><span class="cl">ubuntu:14.04 <span class="se">\\</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> syslogtest
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo tail /var/log/syslog
</span></span></code></pre></div><p><img src="/images/container-tutorial/62.png" alt="Untitled"></p>
<h1 id="컨테이너-자원-할당-제한">컨테이너 자원 할당 제한</h1>
<h2 id="컨테이너-메모리-제한">컨테이너 메모리 제한</h2>
<p>—memory 옵션 사용</p>
<p>최소 제한 4MB</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--memory<span class="o">=</span><span class="s2">&#34;1g&#34;</span> <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--name memory_1g <span class="se">\\</span>
</span></span><span class="line"><span class="cl">nginx
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker inspect memory_1g <span class="p">|</span>grep <span class="se">\\</span><span class="s2">&#34;Memory\\&#34;</span>
</span></span></code></pre></div><p><img src="/images/container-tutorial/63.png" alt="Untitled"></p>
<h2 id="컨테이너-cpu-제한">컨테이너 cpu 제한</h2>
<p>—cpu-shares 옵션 사용</p>
<p>CPU를 어느 비중만큼 나눠가질지에 대한 상대적인 비중 (디폴트 1024)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name cpu_1024 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--cpu-shares <span class="m">1024</span> <span class="se">\\</span>
</span></span><span class="line"><span class="cl">alicek106/stress <span class="se">\\</span>
</span></span><span class="line"><span class="cl">stress --cpu <span class="m">1</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ps aux <span class="p">|</span> grep stress
</span></span></code></pre></div><p><img src="/images/container-tutorial/64.png" alt="Untitled"></p>
<p>—cpuset-cpus 호스트에 cpu가 여러개 있을 때 특정 cpu만 사용하도록 설정</p>
<p>cpu 집중적 작업이 필요하다면 여러개의 cpu를 사용하도록 설정해 적절히 분배하는 것이 좋음</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name cpuset_1 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--cpuset-cpus<span class="o">=</span><span class="m">1</span> <span class="se">\\</span>
</span></span><span class="line"><span class="cl">alicek106/stress <span class="se">\\</span>
</span></span><span class="line"><span class="cl">stress --cpu <span class="m">1</span>
</span></span></code></pre></div><p><img src="/images/container-tutorial/65.png" alt="Untitled"></p>
<p><img src="/images/container-tutorial/66.png" alt="Untitled"></p>
<p>—cpu-period : cpu주기 (기본 100000) —cpu-quota : period 중 cpu 스케줄링에 얼마나 할당할건지</p>
<p>⇒ —cpus : —cpu-period, —cpu-quota와 기능적으로는 같음 하지만 좀 더 직관적 예) —cpu-period=100000 , —cpu-quota=50000 ⇒ —cpus=0.5</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo docker run -d --name cpus_container <span class="se">\\</span>
</span></span><span class="line"><span class="cl">--cpus<span class="o">=</span>0.5 <span class="se">\\</span>
</span></span><span class="line"><span class="cl">alicek106/stress <span class="se">\\</span>
</span></span><span class="line"><span class="cl">stress --cpu <span class="m">1</span>
</span></span></code></pre></div><p><img src="/images/container-tutorial/67.png" alt="Untitled"></p>
<h2 id="컨테이너-block-io-제한">컨테이너 Block I/O 제한</h2>
<p>하나의 컨테이너가 입출력을 과도하게 사용하지 않게 설정하기 위해</p>
<p>—device-write-bps, —device-read-bps</p>
<p>—device-write-iops, —device-read-iops</p>
</article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://jiwonkkang.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://jiwonkkang.github.io/css/toc.css' />

<div id="gitalk-container" class="gitalk-container"></div>
<link rel="stylesheet" href='https://jiwonkkang.github.io/css/gitalk.css'>
<script src='https://jiwonkkang.github.io/js/gitalk.min.js'></script>
<script>
  const gitalk = new Gitalk({
    clientID: '5a1c911a3bb5ff14fe5e',
    clientSecret: '8586a43d9a15967e4760ef333ef31eab72c6d3ea',
    repo: 'jiwonkkang.github.io',
    owner: 'JiwonKKang',
    admin: ['JiwonKKang'],
    id: eval("location.pathname"), 
    distractionFreeMode: false 
  });
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>


  <div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://jiwonkkang.github.io/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">Theme by <a href='https://github.com/MeiK2333/github-style'>github-style</a></li>
      
    </ul>
  </div>
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>
</body>

<script type="application/javascript" src="https://jiwonkkang.github.io/js/github-style.js"></script>




</html>
